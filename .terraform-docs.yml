##################################################################
# Standardized Terraform-Docs Configuration                     #
# ============================================================== #
# Organization: grinntec-terraform-modules-azure                #
# Purpose: Central configuration for all Terraform modules      #
# Version: 1.0                                                  #
##################################################################

formatter: "markdown table"     # Format as Markdown document

version: ""

header-from: main.tf
footer-from: ""

recursive:                      # Documentation for main module and its submodules can be generated all in one execution
  enabled: false
  path: ""                      # Path to find submodules

sections:                       # Specify at a granular level what sections to hide/show
  hide: []
  show: []
  hide-all: false
  show-all: true

content: |-
  # ğŸ—ï¸ Terraform Azure Module

  > **Enterprise Terraform Module for Azure Infrastructure**
  > Part of the [grinntec-terraform-modules-azure](https://github.com/grinntec-terraform-modules-azure) collection

  ## ğŸ“‹ Overview

  This Terraform module provides a standardized, production-ready implementation following infrastructure as code best practices. Each module in our collection is designed for consistency, security, and maintainability across enterprise Azure deployments.

  ## ğŸ“ Repository Structure

  | File/Directory | Purpose | Description |
  |---------------|---------|-------------|
  | **main.tf** | ğŸ—ï¸ Core Resources | Primary resource definitions and module logic |
  | **variables.tf** | ğŸ“ Input Interface | Variable declarations with validation and documentation |
  | **outputs.tf** | ğŸ“¤ Output Interface | Module outputs for downstream consumption |
  | **locals.tf** | âš™ï¸ Local Values | Computed values and naming conventions |
  | **data.tf** | ğŸ“Š Data Sources | External data lookups and references |
  | **versions.tf** | ğŸ”’ Version Control | Terraform and provider version constraints |
  | **example/** | ğŸ’¡ Usage Examples | Working examples demonstrating module usage |
  | **tf-management/** | ğŸ”§ Quality Tools | Automated testing, linting, and documentation |

  ## ğŸš€ Quick Start

  ```hcl
  module "azure_resource" {
    source = "git::https://github.com/grinntec-terraform-modules-azure/[MODULE-NAME].git?ref=v1.0.0"
    
    # Required variables - see Variables section below
    name     = "your-resource-name"
    location = "eastus"
    
    # Optional variables with defaults - see full list below
    tags = {
      Environment = "production"
      Owner      = "platform-team"
    }
  }
  ```

  {{ .Header }}
  
  ## ğŸ“Š Module Documentation

  {{ .Resources }}
  {{ .Requirements }}
  {{ .Providers }}
  {{ .Inputs }}
  {{ .Outputs }}
  
  ## ğŸ’¡ Usage Examples

  ### Production Deployment Example
  
  ```hcl
  {{ include "example/main-production.tf" }}
  ```

  ## ğŸ”§ Development & Testing

  ### Prerequisites
  - Terraform >= 1.5.0
  - Azure CLI or service principal authentication
  - Appropriate Azure subscription permissions

  ### Local Development
  ```bash
  # Clone the repository
  git clone https://github.com/grinntec-terraform-modules-azure/[MODULE-NAME].git
  cd [MODULE-NAME]

  # Initialize Terraform
  terraform init

  # Plan deployment
  terraform plan -var-file="example/terraform.tfvars"

  # Apply changes
  terraform apply
  ```

  ## ğŸ¢ Enterprise Features

  âœ… **Standardized Naming**: Consistent resource naming conventions  
  âœ… **Tag Management**: Comprehensive tagging strategy support  
  âœ… **Security Baseline**: Built-in security best practices  
  âœ… **Monitoring Ready**: Azure Monitor and alerting integration  
  âœ… **Multi-Environment**: Supports dev, staging, and production  
  âœ… **Documentation**: Auto-generated and maintained docs  

  ## ğŸ›¡ï¸ Security & Compliance

  This module follows security best practices and includes:
  - Encrypted storage where applicable
  - Network security group rules
  - Azure Policy compliance
  - Role-based access control (RBAC)
  - Audit logging enabled

  ---
   
  ## ğŸ” Quality Assurance

  ### TFLint Results
  
  ```text
  {{ include "tf-management/tf-lint/results/tf-lint-results-module.txt" }}
  ```
  
  ### Security Scan Results (Checkov)
 
  ```text
  {{ include "tf-management/checkov/module/results_cli.txt" }}
  ```

  ---

  ## ğŸ“ Support & Contributing

  - ğŸ“š **Documentation**: [Terraform Module Standards](https://github.com/grinntec-terraform-modules-azure/.github)
  - ğŸ› **Issues**: Report issues in this repository's issue tracker
  - ğŸ’¡ **Discussions**: Use GitHub Discussions for questions and ideas
  - ğŸ¤ **Contributing**: See [CONTRIBUTING.md](CONTRIBUTING.md)

  ### Module Versioning
  This module uses [Semantic Versioning](https://semver.org/). Always pin to a specific version in production:
  ```hcl
  source = "git::https://github.com/grinntec-terraform-modules-azure/[MODULE-NAME].git?ref=v1.0.0"
  ```
  
  {{ .Footer }}

output:
  file: "README.md"
  mode: replace
  template: |-
    <!-- BEGIN_TF_DOCS -->
    {{ .Content }}
    <!-- END_TF_DOCS -->

sort:
  enabled: true
  by: name

settings:
  anchor: true
  color: true
  default: true
  description: false
  escape: true
  hide-empty: false
  html: true
  indent: 2
  lockfile: true
  read-comments: true
  required: true
  sensitive: true
  type: true